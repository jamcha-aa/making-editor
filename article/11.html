<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>11 - 車輪はどうして回るのか | エディタをつくろう</title>
    <meta name="description" content="編集を始 (し) てね！">
    <link rel="icon" type="image/png" href="/making-editor/img/favicon.png">
    
    <link rel="preload" href="/making-editor/assets/css/0.styles.0632e4f2.css" as="style"><link rel="preload" href="/making-editor/assets/js/app.8df9bdd1.js" as="script"><link rel="preload" href="/making-editor/assets/js/2.48dafa9a.js" as="script"><link rel="preload" href="/making-editor/assets/js/16.343c9614.js" as="script"><link rel="prefetch" href="/making-editor/assets/js/10.a53ae300.js"><link rel="prefetch" href="/making-editor/assets/js/11.524568be.js"><link rel="prefetch" href="/making-editor/assets/js/12.30ec0b96.js"><link rel="prefetch" href="/making-editor/assets/js/13.c99b6da2.js"><link rel="prefetch" href="/making-editor/assets/js/14.77b4414e.js"><link rel="prefetch" href="/making-editor/assets/js/15.90380535.js"><link rel="prefetch" href="/making-editor/assets/js/17.2a3e96a4.js"><link rel="prefetch" href="/making-editor/assets/js/18.bf640799.js"><link rel="prefetch" href="/making-editor/assets/js/3.8eedd249.js"><link rel="prefetch" href="/making-editor/assets/js/4.2e8f27e0.js"><link rel="prefetch" href="/making-editor/assets/js/5.eeed812b.js"><link rel="prefetch" href="/making-editor/assets/js/6.8398b4ac.js"><link rel="prefetch" href="/making-editor/assets/js/7.b7c99ac5.js"><link rel="prefetch" href="/making-editor/assets/js/8.3afee97e.js"><link rel="prefetch" href="/making-editor/assets/js/9.4f1c0c68.js">
    <link rel="stylesheet" href="/making-editor/assets/css/0.styles.0632e4f2.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/making-editor/" class="home-link router-link-active"><!----> <span class="site-name">エディタをつくろう</span></a> <div class="links"><!----> <nav class="nav-links can-hide"><div class="nav-item"><a href="/making-editor/" class="nav-link">ホーム</a></div><div class="nav-item"><a href="https://jamcha-aa.github.io/About/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  作品一覧
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://github.com/jamcha-aa/making-editor/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/making-editor/" class="nav-link">ホーム</a></div><div class="nav-item"><a href="https://jamcha-aa.github.io/About/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  作品一覧
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://github.com/jamcha-aa/making-editor/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>目次</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/making-editor/article/01.html" class="sidebar-link">01 - 私のChromebookのために</a></li><li><a href="/making-editor/article/02.html" class="sidebar-link">02 - ChromebookでVue</a></li><li><a href="/making-editor/article/03.html" class="sidebar-link">03 - いきなり完成！？</a></li><li><a href="/making-editor/article/04.html" class="sidebar-link">04 - サイズを変える</a></li><li><a href="/making-editor/article/05.html" class="sidebar-link">05 - 限界を超える</a></li><li><a href="/making-editor/article/06.html" class="sidebar-link">06 - その名は Annin (杏仁)</a></li><li><a href="/making-editor/article/07.html" class="sidebar-link">07 - 着せ替えを超える</a></li><li><a href="/making-editor/article/08.html" class="sidebar-link">08 - —— Chromebook、問題発生だ。</a></li><li><a href="/making-editor/article/09.html" class="sidebar-link">09 - GitHub Pagesにリリース</a></li><li><a href="/making-editor/article/10.html" class="sidebar-link">10 - Vueのデータバインディングなるもの</a></li><li><a href="/making-editor/article/11.html" class="active sidebar-link">11 - 車輪はどうして回るのか</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/making-editor/article/11.html#momentで時刻をファイル名にする" class="sidebar-link">momentで時刻をファイル名にする</a></li><li class="sidebar-sub-header"><a href="/making-editor/article/11.html#他のソフトウェアに助けてもらう" class="sidebar-link">他のソフトウェアに助けてもらう</a></li><li class="sidebar-sub-header"><a href="/making-editor/article/11.html#車輪がどうして動くのか、わからないから作ってみる" class="sidebar-link">車輪がどうして動くのか、わからないから作ってみる</a></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="content default"><h1 id="_11-車輪はどうして回るのか"><a href="#_11-車輪はどうして回るのか" aria-hidden="true" class="header-anchor">#</a> 11 - 車輪はどうして回るのか</h1> <br> <blockquote><p>そうやって一口にMacというがね、ボクが好きなのはボクのMacだけなんだ。ひとのMacは大きらいだ。 ―― <a href="https://www.youtube.com/watch?v=vhocvkaZ3dM" target="_blank" rel="noopener noreferrer">筒井康隆こと夏目先生<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></blockquote> <br> <h2 id="momentで時刻をファイル名にする"><a href="#momentで時刻をファイル名にする" aria-hidden="true" class="header-anchor">#</a> momentで時刻をファイル名にする</h2> <p>「私はAnninをメモ帳代わりに使おうかなとも思ってたんだけど、保存するときにいちいち名前をつけるのは面倒なので、保存したときの時刻をそのままファイル名にしちゃうことにした」<br>
『何時何分とかがファイル名になるってことですか？』<br>
「そうそう。それで <a href="https://momentjs.com/" target="_blank" rel="noopener noreferrer">moment<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> を使ったんだけど、このライブラリの何がすごいかというとまずホームページのデザインがすごい。ちょっと見て」<br>
『はい。えーと…時計がありますね』<br>
「momentがどういうものか一瞬でわかるでしょ」<br>
『え？…あ、時計のソフトってことですか？』<br>
「そう。momentは時間に関わるライブラリで、momentを使えばこれが簡単に作れますよっていう無言のアピールができてるわけ。しかもそれで興味持った人が下にスクロールしていくと書式の説明があるんだけど、実はこれもmoment使ってできた時計」<br>
『あ、ほんとだ。数字が動いてます』<br>
「カレンダーもmoment使って全部その場で作ってる。自動で」<br>
『ほんとだ、何年前とか。すごいですねこれ』<br>
「すごいでしょ。そんなわけで、すごいmomentを使ってファイル名を時刻にしました」</p> <div class="language-vue extra-class"><pre class="language-vue"><code>import moment from 'moment';

...

  methods: {
    save: function () {
      var blob = new Blob([ this.value ], {'type': 'text/plain'});
      let link = document.createElement('a');
      link.href = window.URL.createObjectURL(blob);
      link.download = moment(new Date).format('YYYY-MM-DD ddd HH-mm-ss') + '.md';
      link.click();
      window.URL.revokeObjectURL(link);
    }
  },
</code></pre></div><p>「これでセーブしたときの時刻がそのままファイル名になる」<br>
『なんかどんどん機能が増えてますね。かっこいい』<br>
「うん。ただちょっと心残りなのは起動時間が1秒を超えちゃったこと」<br>
『え、1秒って十分速い気がしますけど。前はどれくらいだったんですか？』<br>
「0.9秒くらいだったかな？というかmavonEditorが多機能なのにとんでもなく速い。だから『1秒未満で起動するWebエディタ』って宣伝文句にしようとしてたのに。でもできなくなっちゃった」<br>
『うーん、そんなに気にしなくていいと思いますけど…』<br>
「すごく悲しい」<br>
『あ！ほら、お湯が沸きましたよ！ささ！お茶入れましょ！』</p> <h2 id="他のソフトウェアに助けてもらう"><a href="#他のソフトウェアに助けてもらう" aria-hidden="true" class="header-anchor">#</a> 他のソフトウェアに助けてもらう</h2> <p>「実はほとんどのオンラインエディタは文字の置き換えができない」<br>
『どういうことですか？』<br>
「文章の単語を置き換えたくてもできない」<br>
『え、えーと、単語を置き換えるとは…何でしょうか』<br>
「たとえば文章でシュミレータって単語を10回使ってたとして、それをシミュレータに修正したかったら1個1個手作業でやらなきゃいけない」<br>
『それ不便じゃないですか。Anninはできるんですか？』<br>
「できません。だから拡張機能で解決します (<a href="https://find-and-replace-f6588.firebaseapp.com/" target="_blank" rel="noopener noreferrer">Find &amp; Replace for Text Editing<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>)」<br>
『これで置き換えができるんですね』<br>
「うん。 <code>Ctrl + Shift + F</code> で」</p> <br> <p>「AnninはDropboxとかのクラウドストレージと連携ができない」<br>
『ドロップボックス？』<br>
「ごらんください。これが世間の認識なのです。おお嘆かわしい」<br>
『え？え？あの、すみません、それ、知ってなきゃダメなことなんですか？』<br>
「わからない…けど、ないとしんじゃう人もたくさんいる」<br>
『しんじゃうって、ペースメーカーみたいなものでしょうか…』<br>
「おほー」<br>
『ちょっと、からかわないで教えてくださいよ』<br>
「それじゃあAnninでファイルの保存先をGoogle Driveにしたいんだけどどうすればいいかな？」<br>
『おまかせを！Googleドライブはいろいろなファイルを保存できる便利なサービスで、Chromebookでは標準でファイルアプリに統合されています。まず検索キーを押してください。次に検索フォームに『設定』と入力すると歯車のようなマークが出てきますので、それをクリックして…』
「…」</p> <br> <p>「Anninをメモ代わりに使ってるとファイルがたくさん溜まってきて管理が面倒になると思う」<br>
『そうですね…』<br>
「でもAnninが出力するのはただのテキストファイルなのでシェルでひとまとめにできます」</p> <div class="language-sh extra-class"><pre class="language-sh"><code>$ <span class="token function">find</span> *.md <span class="token operator">|</span> <span class="token function">sort</span> -n <span class="token operator">|</span> <span class="token keyword">while</span> <span class="token function">read</span> f<span class="token punctuation">;</span> <span class="token keyword">do</span> <span class="token function">basename</span> <span class="token string">&quot;**** <span class="token variable">$f</span>&quot;</span> .md  <span class="token operator">|</span> <span class="token function">sed</span> <span class="token string">'{s/-/:/3}'</span> <span class="token operator">|</span> <span class="token function">rev</span> <span class="token operator">|</span> <span class="token function">cut</span> -c 4- <span class="token operator">|</span> <span class="token function">rev</span><span class="token punctuation">;</span> <span class="token function">printf</span> <span class="token string">'\n'</span><span class="token punctuation">;</span> <span class="token function">cat</span> <span class="token string">&quot;<span class="token variable">$f</span>&quot;</span><span class="token punctuation">;</span> <span class="token function">printf</span> <span class="token string">'\n\n'</span><span class="token punctuation">;</span> <span class="token keyword">done</span> <span class="token operator">&gt;&gt;</span> <span class="token punctuation">..</span>/annin.org
</code></pre></div><p>『…ぅぇ〜』<br>
「たとえばこれは私が使ってる <a href="https://sachachua.com/blog/2015/02/learn-take-notes-efficiently-org-mode/" target="_blank" rel="noopener noreferrer">org-capture<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> のテンプレートと互換性を持たせたものなので、そのままEmacsのorgファイルにコピペすれば使える、かもしれない」<br>
『…』<br>
「あといちいちブラウザで起動するのは面倒だから、Chromebookのシェルフにショートカットを登録しちゃおう。やり方を教えてくれる？」<br>
『…。…？ …！！はい！おまかせを！ショートカットを登録したいページを開いたら、右上の <code>⋮</code> を押して、『その他のツール』→『ショートカットを作成』で作成されますよ。もし、ひとつのアプリケーションとして使いたいなら、『ウィンドウを作成』にチェックを…』</p> <h2 id="車輪がどうして動くのか、わからないから作ってみる"><a href="#車輪がどうして動くのか、わからないから作ってみる" aria-hidden="true" class="header-anchor">#</a> 車輪がどうして動くのか、わからないから作ってみる</h2> <p>「私がエディタを作ろうと思った理由なんだけど、ちょっとウザい話していいかな」<br>
『ウザい話…ですか。何でしょう』<br>
「不満ばかり言う私が大嫌いだった」<br>
『そうなんですか…。あの…言っていいですか』<br>
「なに？」<br>
『ぼくも…怖かった、です。怒ってるときのあなた』<br>
「やっぱり…」<br>
『でもAnninを作ってるときのあなたは、怒った顔しててもすごく楽しそうでした』<br>
「でしょー。それはね、自分には力があるって錯覚できるからだよ」<br>
『錯覚ですか。うーん、そんなことはないと思いますけど』<br>
「錯覚。私のエディタなんて、はたからみればただの車輪の再発明だよ」<br>
『そうなんですか』<br>
「でも私は車輪がどうやって動くのか前は知らなくて、今は少しわかって、それで回るときのガタつきを少し自分で直せた。すごくうれしかった。自分には直せる力があるんだって思えた」<br>
『それが楽しかったんですね』<br>
「うん。それに、人は自分が作ったものが好き (イケア効果) だから、足りないところがあっても平気に思える」<br>
『それなら、全部作っちゃいましょう！そうすれば、ずっとあなたがニコニコするのを見られますから』<br>
「うおー、なんか嬉しいこと言ってくれてるけどめちゃくちゃな注文だー」</p> <br> <br> <p>-- 了 --</p> <br> <br>
(c) 2019 jamcha (jamcha.aa@gmail.com).
<p><img src="https://i.creativecommons.org/l/by-sa/4.0/88x31.png" alt="cc by-sa"></p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/making-editor/article/10.html" class="prev">
          10 - Vueのデータバインディングなるもの
        </a></span> <!----></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/making-editor/assets/js/app.8df9bdd1.js" defer></script><script src="/making-editor/assets/js/2.48dafa9a.js" defer></script><script src="/making-editor/assets/js/16.343c9614.js" defer></script>
  </body>
</html>
